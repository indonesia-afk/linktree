<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Mengarahkan...</title>
  <meta name="robots" content="noindex">
  <script>
    window.onload = () => {
      const path = window.location.pathname; // contoh: "/tujamsos" atau "/admin.html/tujamsos"
      console.log("404 intercept:", path);

      // Daftar path yang tidak boleh dianggap tenant
      const reserved = [
        "", "/", "index", "index.html",
        "admin", "admin.html",
        "super-admin", "super-admin.html",
        "404.html"
      ];

      // === 1️⃣ Jika /admin.html/namaTenant → redirect ke /admin.html?u=namaTenant ===
      const matchAdmin = path.match(/^\/admin\.html\/([\w-]+)$/);
      if (matchAdmin) {
        const tenant = matchAdmin[1];
        window.location.replace(`/admin.html?u=${tenant}`);
        return;
      }

      // === 2️⃣ Jika /namaTenant langsung (dan bukan reserved) → redirect ke /?u=namaTenant ===
      const matchTenant = path.match(/^\/([\w-]+)$/);
      if (matchTenant) {
        const tenant = matchTenant[1];
        if (!reserved.includes(tenant)) {
          window.location.replace(`/?u=${tenant}`);
          return;
        }
      }

      // === 3️⃣ Selain itu, fallback ke tenant default ===
      window.location.replace("/?u=tommy");
    };
  </script>
</head>
<body>
  <p style="font-family:sans-serif; text-align:center; margin-top:30vh;">
    Mengarahkan ke halaman tenant...
  </p>
</body>
</html>
